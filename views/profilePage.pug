extends layouts/main-layout.pug

block content
    if !profileUser
        span.errorMessage Check the url you are trying to access
    else 
        script.
            var profileUser = '!{profileUser}'
            var selectedTab = '!{selectedTab}'

        .profileHeaderContainer 
            .coverPhotoContainer

                .userImageContainer 
                    img(src=profilePic, alt="User profile image")

                    if profileUser === userLoggedIn.username
                        button.profilePictureButton(data-toggle="modal", data-target="#imageUploadModal")
                            i.fas.fa-camera

            .userDetailsContainer 
                span.displayName #{profileUser}
            
        .tabsContainer 
            if profileUser === userLoggedIn.username
                +createTab("Your Comments", `/profile/${profileUser}`, selectedTab != "likedPosts" && selectedTab != "likedVideos" && selectedTab != "replies" && selectedTab != "likedReplies")
            else
                +createTab("Comments", `/profile/${profileUser}`, selectedTab != "likedPosts" && selectedTab != "likedVideos" && selectedTab != "replies" && selectedTab != "likedReplies")
            +createTab("Liked Comments", `/profile/${profileUser}/likedPosts`, selectedTab == "likedPosts")
            if profileUser === userLoggedIn.username 
                +createTab("Your Replies", `/profile/${profileUser}/replies`, selectedTab == "replies")
            else 
                +createTab("Replies", `/profile/${profileUser}/replies`, selectedTab == "replies")
            +createTab("Liked Replies", `/profile/${profileUser}/likedReplies`, selectedTab == "likedReplies")
            +createTab("Liked Videos", `/profile/${profileUser}/likedVideos`, selectedTab == "likedVideos")

        .postsContainer

        +createImageUploadModal()

block scripts
    script(src="/js/profile.js")